"use strict";(self.webpackChunkbooks_reading_tracker=self.webpackChunkbooks_reading_tracker||[]).push([[707],{7707:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var i,l,s,a,r=t(168),o=t(225),c=o.Z.div(i||(i=(0,r.Z)([""]))),d=t(1413),u=t(3433),h=t(9439),f=o.Z.form(l||(l=(0,r.Z)([""]))),x=o.Z.div(s||(s=(0,r.Z)([""]))),g=t(9836),j=t(3382),p=t(3994),Z=t(9281),b=t(6890),m=t(5855),k=t(5527),v=t(184),_=function(n){var e=n.trainingList,t=n.removeFromTrainingListHandler;return(0,v.jsx)(x,{children:(0,v.jsx)(Z.Z,{component:k.Z,children:(0,v.jsxs)(g.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,v.jsx)(b.Z,{children:(0,v.jsxs)(m.Z,{children:[(0,v.jsx)(p.Z,{align:"left",children:"Book title"}),(0,v.jsx)(p.Z,{align:"left",children:"Author"}),(0,v.jsx)(p.Z,{align:"left",children:"Year"}),(0,v.jsx)(p.Z,{align:"left",children:"Pages"})]})}),(0,v.jsx)(j.Z,{children:e.map((function(n){return(0,v.jsxs)(m.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,v.jsx)(p.Z,{align:"left",children:n.title}),(0,v.jsx)(p.Z,{align:"left",children:n.author}),(0,v.jsx)(p.Z,{align:"left",children:n.publishYear}),(0,v.jsx)(p.Z,{align:"left",children:n.pagesTotal}),(0,v.jsx)(p.Z,{align:"left",children:(0,v.jsx)("button",{type:"button",onClick:function(){console.log(n),t(n._id)},children:"D"})})]},n._id)}))})]})})})},C=t(7892),y=t.n(C),Y=t(2791),D=t(1754),T=t(1652),M=t(4750),S=t(5770),F=t(5853),N=t(3153),A=t(4452),L=t(4653),w=[],B={},H=function(){var n=(0,N.C)(A.M7),e=(0,N.T)();(0,Y.useEffect)((function(){n&&(e((0,L.u)()),console.log("something"))}),[n]);var t=function(){var n=new Date;return"".concat(n.getFullYear(),"-").concat("".concat(n.getUTCMonth()+1).padStart(2,"0"),"-").concat(n.getDate())},i=(0,Y.useState)(w),l=(0,h.Z)(i,2),s=l[0],a=l[1],r=(0,Y.useState)(t()),o=(0,h.Z)(r,2),c=o[0],x=o[1],g=(0,Y.useState)(""),j=(0,h.Z)(g,2),p=j[0],Z=j[1],b=(0,Y.useState)(B),m=(0,h.Z)(b,2),k=m[0],C=m[1],H=(0,N.C)(A.r9),P=(0,N.C)(A.k3),E=[].concat((0,u.Z)(H.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))),(0,u.Z)(P.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))));return(0,v.jsxs)(f,{onSubmit:function(n){n.preventDefault();var t={startDate:c,endDate:p,books:s.map((function(n){return n._id}))};e((0,L.f)(t)),console.log(t)},children:[(0,v.jsx)("h2",{children:"My training"}),(0,v.jsxs)("div",{className:"date-input-container",children:[(0,v.jsx)(T._,{dateAdapter:M.y,children:(0,v.jsx)(D.M,{label:"Start",defaultValue:y()(t()),onChange:function(n){n&&x(n.format("YYYY-MM-DD"))},disabled:!0})}),(0,v.jsx)(T._,{dateAdapter:M.y,children:(0,v.jsx)(D.M,{label:"Finish",onChange:function(n){n&&Z(n.format("YYYY-MM-DD"))},disablePast:!0,minDate:y()().add(1,"day")})})]}),(0,v.jsxs)("div",{className:"books-input-container",children:[(0,v.jsx)(S.Z,{onChange:function(n,e){e&&(console.log(e),C(e))},disablePortal:!0,isOptionEqualToValue:function(n,e){return n._id===e._id},id:"combo-box-demo",options:E,sx:{width:300},renderInput:function(n){return(0,v.jsx)(F.Z,(0,d.Z)((0,d.Z)({},n),{},{label:"Choose books from the library "}))}}),(0,v.jsx)("button",{type:"button",onClick:function(){k&&function(n){if(console.log("addToTrainingBookListHandler"),n&&!s.find((function(e){return e._id===n._id}))){var e=n.title,t=n.author,i=n.publishYear,l=n.pagesTotal,r=n._id,o=n.pagesFinished;a([].concat((0,u.Z)(s),[{title:e,author:t,publishYear:i,pagesTotal:l,_id:r,pagesFinished:o}]))}}(k)},children:"Add"}),(0,v.jsx)("button",{type:"submit",children:"Start training"})]}),(0,v.jsx)(_,{trainingList:s,removeFromTrainingListHandler:function(n){a(s.filter((function(e){return e._id!==n})))}})]})},P=o.Z.div(a||(a=(0,r.Z)([""]))),E=t(3384),V=function(){var n=(0,N.C)(E.SL),e=(0,N.C)(E.Nh),t=(0,N.C)(E.v3);return(0,v.jsxs)(P,{children:[(0,v.jsx)("h2",{children:"My goals"}),(0,v.jsxs)("ul",{className:"goals-body",children:[(0,v.jsxs)("li",{className:"goal",children:[(0,v.jsx)("p",{children:"fulfilled"===n.status?n.books.length:0}),(0,v.jsx)("p",{children:"Amount of books"})]}),(0,v.jsxs)("li",{className:"goal",children:[(0,v.jsx)("p",{children:"fulfilled"===n.status?y()(t).diff(y()(e),"day"):0}),(0,v.jsx)("p",{children:"Amount of days"})]}),(0,v.jsxs)("li",{className:"goal",children:[(0,v.jsx)("p",{children:"fulfilled"===n.status?n.books.filter((function(n){return n.pagesTotal!==n.pagesFinished})).length:0}),(0,v.jsx)("p",{children:"Books left"})]})]})]})},q=function(){return(0,v.jsxs)(c,{children:[(0,v.jsx)(H,{}),(0,v.jsx)(V,{})]})}}}]);
//# sourceMappingURL=707.d552e103.chunk.js.map