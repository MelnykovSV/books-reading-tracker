"use strict";(self.webpackChunkbooks_reading_tracker=self.webpackChunkbooks_reading_tracker||[]).push([[389],{8389:function(n,t,e){e.r(t),e.d(t,{default:function(){return bn}});var i,a,r,l,s,o,c,d,u,x,h=e(9439),f=e(168),p=e(225),j=p.Z.div(i||(i=(0,f.Z)([""]))),b=e(2791),g=e(7892),m=e.n(g),Z=p.Z.div(a||(a=(0,f.Z)([""]))),v=p.Z.div(r||(r=(0,f.Z)([""]))),k=e(9836),y=e(3382),C=e(3994),w=e(9281),S=e(6890),D=e(5855),N=e(5527),Y=e(3153),L=e(5316),_=e(184),E=function(){var n=(0,Y.C)(L.UN);return(0,_.jsx)(v,{children:(0,_.jsx)(w.Z,{component:N.Z,children:(0,_.jsxs)(k.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,_.jsx)(S.Z,{children:(0,_.jsxs)(D.Z,{children:[(0,_.jsx)(C.Z,{align:"left",children:"Book title"}),(0,_.jsx)(C.Z,{align:"left",children:"Author"}),(0,_.jsx)(C.Z,{align:"left",children:"Year"}),(0,_.jsx)(C.Z,{align:"left",children:"Pages"})]})}),(0,_.jsx)(y.Z,{children:n.map((function(n){return(0,_.jsxs)(D.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,_.jsxs)(C.Z,{align:"left",children:[n.pagesTotal===n.pagesFinished?"true":"false","' '",n.title]}),(0,_.jsx)(C.Z,{align:"left",children:n.author}),(0,_.jsx)(C.Z,{align:"left",children:n.publishYear}),(0,_.jsx)(C.Z,{align:"left",children:n.pagesTotal})]},n._id)}))})]})})})},T=p.Z.div(l||(l=(0,f.Z)([""]))),M=e(1474),A=function(){var n=(0,Y.T)(),t=(0,Y.C)(L.v3),e=(0,b.useState)(m()(t).diff(m()())),i=(0,h.Z)(e,2),a=i[0],r=i[1];return(0,b.useEffect)((function(){var e=setInterval((function(){m()(t).diff(m()())>=0?r(m()(t).diff(m()())):(r(0),n((0,L.lF)("fail")),clearInterval(e))}),1e3);return function(){clearInterval(e)}}),[]),(0,_.jsx)(T,{children:(0,_.jsxs)("dl",{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("dt",{children:(0,M.lN)(a).d.toString().padStart(2,"0")}),(0,_.jsx)("dd",{children:"Days"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("dt",{children:(0,M.lN)(a).h.toString().padStart(2,"0")}),(0,_.jsx)("dd",{children:"Hrs"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("dt",{children:(0,M.lN)(a).m.toString().padStart(2,"0")}),(0,_.jsx)("dd",{children:"Minutes"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("dt",{children:(0,M.lN)(a).s.toString().padStart(2,"0")}),(0,_.jsx)("dd",{children:"Seconds"})]})]})})},F=function(){return(0,_.jsxs)(Z,{children:[(0,_.jsx)(A,{}),(0,_.jsx)(E,{})]})},O=p.Z.div(s||(s=(0,f.Z)([""]))),B=function(n){var t=n.trainingBookList,e=n.planningStartDate,i=n.planningEndDate,a=(0,Y.C)(L.SL),r=(0,Y.C)(L.Nh),l=(0,Y.C)(L.v3),s=(0,Y.C)(L.nL);return(0,_.jsxs)(O,{children:[(0,_.jsx)("h2",{children:"My goals"}),(0,_.jsxs)("ul",{className:"goals-body",children:[(0,_.jsxs)("li",{className:"goal",children:[(0,_.jsx)("p",{children:s?a.books.length:t.length}),(0,_.jsx)("p",{children:"Amount of books"})]}),(0,_.jsxs)("li",{className:"goal",children:[(0,_.jsx)("p",{children:s?m()(l).diff(m()(r),"day"):m()(i).diff(e,"day")||0}),(0,_.jsx)("p",{children:"Amount of days"})]}),s&&(0,_.jsxs)("li",{className:"goal",children:[(0,_.jsx)("p",{children:a.books.length-(0,M.ss)(a.books)+1}),(0,_.jsx)("p",{children:"Books left"})]})]})]})},H=e(1413),P=e(3433),I=p.Z.form(o||(o=(0,f.Z)([""]))),V=p.Z.div(c||(c=(0,f.Z)([""]))),z=function(n){var t=n.trainingList,e=n.removeFromTrainingListHandler;return(0,_.jsx)(V,{children:(0,_.jsx)(w.Z,{component:N.Z,children:(0,_.jsxs)(k.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,_.jsx)(S.Z,{children:(0,_.jsxs)(D.Z,{children:[(0,_.jsx)(C.Z,{align:"left",children:"Book title"}),(0,_.jsx)(C.Z,{align:"left",children:"Author"}),(0,_.jsx)(C.Z,{align:"left",children:"Year"}),(0,_.jsx)(C.Z,{align:"left",children:"Pages"})]})}),(0,_.jsx)(y.Z,{children:t.map((function(n){return(0,_.jsxs)(D.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,_.jsx)(C.Z,{align:"left",children:n.title}),(0,_.jsx)(C.Z,{align:"left",children:n.author}),(0,_.jsx)(C.Z,{align:"left",children:n.publishYear}),(0,_.jsx)(C.Z,{align:"left",children:n.pagesTotal}),(0,_.jsx)(C.Z,{align:"left",children:(0,_.jsx)("button",{type:"button",onClick:function(){e(n._id)},children:"D"})})]},n._id)}))})]})})})},K=e(5854),q=e(1652),R=e(4750),W=e(5770),U=e(5853),J=e(4452),$=e(4653),G=function(n){var t=n.trainingBookList,e=n.startDate,i=n.endDate,a=n.updateTrainingBookList,r=n.updateStartDate,l=n.updateEndDate,s=n.updateIsFormSubmitted,o=(0,Y.T)(),c=(0,b.useState)(null),d=(0,h.Z)(c,2),u=d[0],x=d[1],f=(0,Y.C)(J.r9),p=(0,Y.C)(J.k3),j=[].concat((0,P.Z)(f.map((function(n){return(0,H.Z)((0,H.Z)({},n),{},{label:n.title})}))),(0,P.Z)(p.map((function(n){return(0,H.Z)((0,H.Z)({},n),{},{label:n.title})}))));return(0,_.jsxs)(I,{onSubmit:function(n){n.preventDefault();var a={startDate:e,endDate:i,books:t.map((function(n){return n._id}))};o((0,$.fF)(a)),s(!0)},children:[(0,_.jsx)("h2",{children:"My training"}),(0,_.jsxs)("div",{className:"date-input-container",children:[(0,_.jsx)(q._,{dateAdapter:R.y,children:(0,_.jsx)(K.M,{label:"Start",defaultValue:m()(m()().format("YYYY-MM-DD")),onChange:function(n){n&&r(n.format("YYYY-MM-DD"))},disabled:!0})}),(0,_.jsx)(q._,{dateAdapter:R.y,children:(0,_.jsx)(K.M,{label:"Finish",onChange:function(n){n&&l(n.format("YYYY-MM-DD"))},disablePast:!0,minDate:m()().add(1,"day")})})]}),(0,_.jsxs)("div",{className:"books-input-container",children:[(0,_.jsx)(W.Z,{onChange:function(n,t){t&&x(t)},value:u,disablePortal:!0,isOptionEqualToValue:function(n,t){return n._id===t._id},id:"combo-box-demo",options:j,sx:{width:300},renderInput:function(n){return(0,_.jsx)(U.Z,(0,H.Z)((0,H.Z)({},n),{},{label:"Choose books from the library "}))}}),(0,_.jsx)("button",{type:"button",onClick:function(){u&&(!function(n){if(n&&!t.find((function(t){return t._id===n._id}))){var e=n.title,i=n.author,r=n.publishYear,l=n.pagesTotal,s=n._id,o=n.pagesFinished;a([].concat((0,P.Z)(t),[{title:e,author:i,publishYear:r,pagesTotal:l,_id:s,pagesFinished:o}]))}}(u),x(null))},children:"Add"}),(0,_.jsx)("button",{type:"submit",children:"Start training"})]}),(0,_.jsx)(z,{trainingList:t,removeFromTrainingListHandler:function(n){a(t.filter((function(t){return t._id!==n})))}})]})},Q=p.Z.div(d||(d=(0,f.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: min(280px, 100%);\n  background: #fff;\n  box-shadow: 10px 10px 20px 0px rgba(9, 30, 63, 0.2);\n  padding: 44px;\n\n  @media screen and (min-width: 768px) {\n    width: min(394px, 100%);\n    padding: 40px 29px 48px;\n  }\n\n  svg {\n    fill: #a6abb9;\n    margin: 0 auto;\n    display: block;\n    margin-bottom: 14px;\n  }\n\n  &.success,\n  &.book-read {\n    svg {\n      fill: #ff6b08;\n    }\n  }\n  p {\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 22px;\n    width: 130px;\n    margin: 0 auto;\n    margin-bottom: 14px;\n    text-align: center;\n    @media screen and (min-width: 768px) {\n      width: 289px;\n      margin-bottom: 25px;\n    }\n  }\n  .buttons-container {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    @media screen and (min-width: 768px) {\n      flex-direction: row;\n      justify-content: space-between;\n      margin: 0;\n    }\n  }\n  button {\n    cursor: pointer;\n    display: block;\n    margin: 0 auto;\n    padding: 11px;\n    min-width: 130px;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal;\n    border: 1px solid #000;\n    background-color: white;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.25);\n    @media screen and (min-width: 768px) {\n      min-width: 152px;\n    }\n  }\n  .button-accent {\n    color: white;\n    border: none;\n    background: #ff6b08;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.25);\n  }\n"]))),X=e(4164),nn=e(7689),tn=["title","titleId"];function en(){return en=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},en.apply(this,arguments)}function an(n,t){if(null==n)return{};var e,i,a=function(n,t){if(null==n)return{};var e,i,a={},r=Object.keys(n);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(a[e]=n[e]);return a}(n,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}function rn(n,t){var e=n.title,i=n.titleId,a=an(n,tn);return b.createElement("svg",en({width:54,height:54,viewBox:"0 0 54 54",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),e?b.createElement("title",{id:i},e):null,u||(u=b.createElement("g",{id:"thumb_up-24px 1",clipPath:"url(#clip0_4306_6660)"},b.createElement("path",{id:"Vector",d:"M20.25 47.25H40.5C42.3675 47.25 43.965 46.125 44.64 44.505L51.435 28.6425C51.6375 28.125 51.75 27.585 51.75 27V22.5C51.75 20.025 49.725 18 47.25 18H33.0525L35.19 7.7175L35.2575 6.9975C35.2575 6.075 34.875 5.22 34.2675 4.6125L31.8825 2.25L17.055 17.0775C16.245 17.8875 15.75 19.0125 15.75 20.25V42.75C15.75 45.225 17.775 47.25 20.25 47.25ZM20.25 20.25L30.015 10.485L27 22.5H47.25V27L40.5 42.75H20.25V20.25ZM2.25 20.25H11.25V47.25H2.25V20.25Z"}))),x||(x=b.createElement("defs",null,b.createElement("clipPath",{id:"clip0_4306_6660"},b.createElement("rect",{width:54,height:54})))))}var ln=b.forwardRef(rn),sn=(e.p,document.querySelector("#modal-root")),on=function(n){var t=n.modalType,e=n.modalCloseHandler,i=n.resetTrainingRegistrationData,a=(0,nn.s0)(),r=(0,Y.T)();switch(t){case"success":return(0,_.jsxs)(Q,{className:"success",children:[(0,_.jsx)(ln,{}),(0,_.jsx)("p",{children:"Congratulations! You made it in time!"}),(0,_.jsxs)("div",{className:"buttons-container",children:[(0,_.jsx)("button",{type:"button",onClick:function(){e(),i(),r((0,L.rF)())},className:"button-accent",children:"New training"}),(0,_.jsx)("button",{type:"button",onClick:function(){e(),a("/"),r((0,L.rF)())},children:"Back"})]})]});case"fail":return(0,X.createPortal)((0,_.jsxs)(Q,{className:"fail",children:[(0,_.jsx)(ln,{}),(0,_.jsx)("p",{children:"Well done! but you need to be a little bit faster. You can do it)"}),(0,_.jsxs)("div",{className:"buttons-container",children:[(0,_.jsx)("button",{type:"button",onClick:function(){e(),i(),r((0,L.rF)())},className:"button-accent",children:"New training"}),(0,_.jsx)("button",{type:"button",onClick:function(){e(),a("/"),r((0,L.rF)())},children:"Back"})]})]}),sn);case"book read":return(0,_.jsxs)(Q,{className:"book-read",children:[(0,_.jsx)(ln,{}),(0,_.jsx)("p",{children:"Congratulations! Another book read."}),(0,_.jsx)("button",{type:"button",onClick:function(){e()},className:"button-accent",children:"Done"})]})}},cn=e(1414),dn=e(3329),un=e(3391),xn=e(2839),hn=e(466),fn=e(2891),pn=e(5667),jn=e(3142),bn=function(){var n=(0,Y.C)(L.$3),t=(0,Y.C)(L.Nh),e=(0,Y.C)(L.v3),i=(0,Y.C)(L.o3),a=(0,Y.C)(L.nL),r=(0,Y.C)(L.Yz),l=(0,Y.C)(L.UN),s=(0,Y.C)(L.d9),o=(0,Y.C)(L.EN),c=(0,Y.C)(J.bH),d=[],u=function(){return m()().format("YYYY-MM-DD")},x=(0,b.useState)(d),f=(0,h.Z)(x,2),p=f[0],g=f[1],Z=(0,b.useState)(u()),v=(0,h.Z)(Z,2),k=v[0],y=v[1],C=(0,b.useState)(""),w=(0,h.Z)(C,2),S=w[0],D=w[1],N=(0,b.useState)(!1),E=(0,h.Z)(N,2),T=E[0],A=E[1],O=(0,b.useState)(""),H=(0,h.Z)(O,2),P=H[0],I=H[1],V=(0,b.useState)(!1),z=(0,h.Z)(V,2),K=z[0],q=z[1],R=(0,b.useState)(!1),W=(0,h.Z)(R,2),U=W[0],Q=W[1],X=(0,b.useState)(!1),nn=(0,h.Z)(X,2),tn=nn[0],en=nn[1],an=function(n){q(n)};(0,b.useEffect)((function(){en(!0),setTimeout((function(){en(!1)}),1e3)}),[o]);var rn=function(){y(u()),D(""),g(d)},ln=(0,Y.T)();(0,b.useEffect)((function(){c&&ln((0,$.uz)())}),[c]),(0,b.useEffect)((function(){switch(r){case"none":U||Q(!0);break;case"active":U||Q(!0),K&&ln((0,J.cJ)(l)),console.log((0,M.x3)(n,t,e,300));break;case"success":I("success"),A(!0);break;case"fail":I("fail"),A(!0)}}),[r]),(0,b.useEffect)((function(){"active"===r&&s&&1!==s&&U&&(ln((0,J.Ai)(l[s-2])),I("book read"),A(!0))}),[s]);var sn=function(n){g(n)},bn=function(n){y(n)},gn=function(n){D(n)};return"fulfilled"===i&&console.log(Object.values((0,M.Ln)(Object.values(n))).map((function(n,t,e){return(338-(0,M.dD)(e,t))/(10-t)}))),(0,_.jsxs)(j,{children:["active"===r||"success"===r||"fail"===r?(0,_.jsx)(F,{}):"none"===r?(0,_.jsx)(G,{trainingBookList:p,startDate:k,endDate:S,updateTrainingBookList:sn,updateStartDate:bn,updateEndDate:gn,updateIsFormSubmitted:an}):(0,_.jsx)("div",{children:"Loading..."}),(0,_.jsx)(B,{trainingBookList:p,planningStartDate:k,planningEndDate:S}),a?(0,_.jsxs)(un.w,{width:500,height:300,data:o,margin:{top:5,right:30,left:20,bottom:5},children:[(0,_.jsx)(xn.q,{}),(0,_.jsx)(hn.K,{dataKey:"name",tick:function(){return null},tickSize:0}),(0,_.jsx)(fn.B,{tick:!1}),(0,_.jsx)(pn.u,{}),(0,_.jsx)(jn.x,{type:"monotone",dataKey:"actual",stroke:"#8884d8",activeDot:{r:4},isAnimationActive:tn,label:function(n){var t=n.x,e=n.y,i=n.stroke,a=n.value;return a===o[o.length-1].actual?(0,_.jsx)("text",{x:t,y:e,fill:i,fontSize:10,textAnchor:"middle",children:a}):(0,_.jsx)("text",{x:t,y:e,fill:i,fontSize:10,textAnchor:"middle"})}}),(0,_.jsx)(jn.x,{type:"monotone",dataKey:"plan",stroke:"#82ca9d",isAnimationActive:!1,label:!0})]}):null,(0,_.jsx)(cn.Z,{open:T,onClose:function(){A(!1),rn(),ln((0,L.rF)())},children:(0,_.jsx)(dn.Z,{children:(0,_.jsx)(on,{modalType:P,modalCloseHandler:function(){A(!1)},resetTrainingRegistrationData:rn})})})]})}}}]);
//# sourceMappingURL=389.36a3774f.chunk.js.map