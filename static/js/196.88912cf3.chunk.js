"use strict";(self.webpackChunkbooks_reading_tracker=self.webpackChunkbooks_reading_tracker||[]).push([[196],{2196:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var i,l,a,s,r,o=t(168),c=t(225),u=c.Z.div(i||(i=(0,o.Z)([""]))),d=t(1413),f=t(3433),h=t(9439),g=c.Z.form(l||(l=(0,o.Z)([""]))),x=c.Z.div(a||(a=(0,o.Z)([""]))),j=t(9836),p=t(3382),Z=t(3994),b=t(9281),m=t(6890),v=t(5855),Y=t(5527),k=t(184),C=function(n){var e=n.trainingList,t=n.removeFromTrainingListHandler;return(0,k.jsx)(x,{children:(0,k.jsx)(b.Z,{component:Y.Z,children:(0,k.jsxs)(j.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,k.jsx)(m.Z,{children:(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(Z.Z,{align:"left",children:"Book title"}),(0,k.jsx)(Z.Z,{align:"left",children:"Author"}),(0,k.jsx)(Z.Z,{align:"left",children:"Year"}),(0,k.jsx)(Z.Z,{align:"left",children:"Pages"})]})}),(0,k.jsx)(p.Z,{children:e.map((function(n){return(0,k.jsxs)(v.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,k.jsx)(Z.Z,{align:"left",children:n.title}),(0,k.jsx)(Z.Z,{align:"left",children:n.author}),(0,k.jsx)(Z.Z,{align:"left",children:n.publishYear}),(0,k.jsx)(Z.Z,{align:"left",children:n.pagesTotal}),(0,k.jsx)(Z.Z,{align:"left",children:(0,k.jsx)("button",{type:"button",onClick:function(){console.log(n),t(n._id)},children:"D"})})]},n._id)}))})]})})})},D=t(7892),y=t.n(D),M=t(2791),_=t(1754),S=t(1652),T=t(4750),A=t(5770),N=t(5853),F=t(3153),L=t(4452),w=t(4653),B=[],H={},P=function(){var n=(0,F.C)(L.M7),e=(0,F.T)();(0,M.useEffect)((function(){n&&(e((0,w.u)()),console.log("something"))}),[n]);var t=function(){var n=new Date;return"".concat(n.getFullYear(),"-").concat("".concat(n.getUTCMonth()+1).padStart(2,"0"),"-").concat(n.getDate())},i=(0,M.useState)(B),l=(0,h.Z)(i,2),a=l[0],s=l[1],r=(0,M.useState)(t()),o=(0,h.Z)(r,2),c=o[0],u=o[1],x=(0,M.useState)(""),j=(0,h.Z)(x,2),p=j[0],Z=j[1],b=(0,M.useState)(H),m=(0,h.Z)(b,2),v=m[0],Y=m[1],D=(0,F.C)(L.r9),P=(0,F.C)(L.k3),V=[].concat((0,f.Z)(D.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))),(0,f.Z)(P.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))));return(0,k.jsxs)(g,{onSubmit:function(n){n.preventDefault();var t={startDate:c,endDate:p,books:a.map((function(n){return n._id}))};e((0,w.f)(t)),console.log(t)},children:[(0,k.jsx)("h2",{children:"My training"}),(0,k.jsxs)("div",{className:"date-input-container",children:[(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Start",defaultValue:y()(t()),onChange:function(n){n&&u(n.format("YYYY-MM-DD"))},disabled:!0})}),(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Finish",onChange:function(n){n&&Z(n.format("YYYY-MM-DD"))},disablePast:!0,minDate:y()().add(1,"day")})})]}),(0,k.jsxs)("div",{className:"books-input-container",children:[(0,k.jsx)(A.Z,{onChange:function(n,e){e&&(console.log(e),Y(e))},disablePortal:!0,isOptionEqualToValue:function(n,e){return n._id===e._id},id:"combo-box-demo",options:V,sx:{width:300},renderInput:function(n){return(0,k.jsx)(N.Z,(0,d.Z)((0,d.Z)({},n),{},{label:"Choose books from the library "}))}}),(0,k.jsx)("button",{type:"button",onClick:function(){v&&function(n){if(console.log("addToTrainingBookListHandler"),n&&!a.find((function(e){return e._id===n._id}))){var e=n.title,t=n.author,i=n.publishYear,l=n.pagesTotal,r=n._id,o=n.pagesFinished;s([].concat((0,f.Z)(a),[{title:e,author:t,publishYear:i,pagesTotal:l,_id:r,pagesFinished:o}]))}}(v)},children:"Add"}),(0,k.jsx)("button",{type:"submit",children:"Start training"})]}),(0,k.jsx)(C,{trainingList:a,removeFromTrainingListHandler:function(n){s(a.filter((function(e){return e._id!==n})))}})]})},V=c.Z.div(s||(s=(0,o.Z)([""]))),E=t(3384),O=function(){var n=(0,F.C)(E.SL),e=(0,F.C)(E.Nh),t=(0,F.C)(E.v3);return(0,k.jsxs)(V,{children:[(0,k.jsx)("h2",{children:"My goals"}),(0,k.jsxs)("ul",{className:"goals-body",children:[(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?n.books.length:0}),(0,k.jsx)("p",{children:"Amount of books"})]}),(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?y()(t).diff(y()(e),"day"):0}),(0,k.jsx)("p",{children:"Amount of days"})]}),(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?n.books.filter((function(n){return n.pagesTotal!==n.pagesFinished})).length:0}),(0,k.jsx)("p",{children:"Books left"})]})]})]})},q=t(5861),I=t(4687),U=t.n(I),W=c.Z.div(r||(r=(0,o.Z)([""]))),z=t(1243),G=function(){var n=(0,M.useState)(y()().format("YYYY-MM-DD")),e=(0,h.Z)(n,2),t=e[0],i=e[1],l=(0,M.useState)(0),a=(0,h.Z)(l,2),s=a[0],r=a[1],o=(0,F.C)(E.SL),c=(0,F.C)(E.o3);console.log("planning"),console.log(o.stats);return"fulfilled"===c&&console.log(function(n){var e=(0,f.Z)(Object.values(n));return e.length<=5?e:e.filter((function(n,e,t){return e+1>t.length-5}))}(o.stats)),(0,k.jsxs)(W,{children:[(0,k.jsxs)("form",{onSubmit:function(){var n=(0,q.Z)(U().mark((function n(e){var t;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,z.Z.patch("/planning",{pages:s});case 3:t=n.sent,console.log(t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:[(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Date",defaultValue:y()(t),onChange:function(n){n&&(i(n.format("YYYY-MM-DD")),console.log(n.format("YYYY-MM-DD")))}})}),(0,k.jsx)(N.Z,{id:"outlined-basic",label:"Amount of pages",variant:"outlined",type:"number",onChange:function(n){console.log(n.target.value),r(Number(n.target.value))}}),(0,k.jsx)("button",{type:"submit",children:"Add result"})]}),(0,k.jsx)("div",{className:"resulte-container"})]})},J=function(){return(0,k.jsxs)(u,{children:[(0,k.jsx)(P,{}),(0,k.jsx)(O,{}),(0,k.jsx)(G,{})]})}}}]);
//# sourceMappingURL=196.88912cf3.chunk.js.map