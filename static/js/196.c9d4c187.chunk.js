"use strict";(self.webpackChunkbooks_reading_tracker=self.webpackChunkbooks_reading_tracker||[]).push([[196],{2196:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var i,a,l,r,s,o=t(168),c=t(225),u=c.Z.div(i||(i=(0,o.Z)([""]))),d=t(1413),f=t(3433),h=t(9439),x=c.Z.form(a||(a=(0,o.Z)([""]))),g=c.Z.div(l||(l=(0,o.Z)([""]))),j=t(9836),p=t(3382),Z=t(3994),b=t(9281),m=t(6890),v=t(5855),Y=t(5527),k=t(184),D=function(n){var e=n.trainingList,t=n.removeFromTrainingListHandler;return(0,k.jsx)(g,{children:(0,k.jsx)(b.Z,{component:Y.Z,children:(0,k.jsxs)(j.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,k.jsx)(m.Z,{children:(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(Z.Z,{align:"left",children:"Book title"}),(0,k.jsx)(Z.Z,{align:"left",children:"Author"}),(0,k.jsx)(Z.Z,{align:"left",children:"Year"}),(0,k.jsx)(Z.Z,{align:"left",children:"Pages"})]})}),(0,k.jsx)(p.Z,{children:e.map((function(n){return(0,k.jsxs)(v.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,k.jsx)(Z.Z,{align:"left",children:n.title}),(0,k.jsx)(Z.Z,{align:"left",children:n.author}),(0,k.jsx)(Z.Z,{align:"left",children:n.publishYear}),(0,k.jsx)(Z.Z,{align:"left",children:n.pagesTotal}),(0,k.jsx)(Z.Z,{align:"left",children:(0,k.jsx)("button",{type:"button",onClick:function(){console.log(n),t(n._id)},children:"D"})})]},n._id)}))})]})})})},y=t(7892),C=t.n(y),M=t(2791),_=t(1754),S=t(1652),T=t(4750),A=t(5770),N=t(5853),F=t(3153),w=t(4452),L=t(4653),B=[],H={},P=function(){var n=(0,F.C)(w.M7),e=(0,F.T)();(0,M.useEffect)((function(){n&&(e((0,L.u)()),console.log("something"))}),[n]);var t=function(){var n=new Date;return"".concat(n.getFullYear(),"-").concat("".concat(n.getUTCMonth()+1).padStart(2,"0"),"-").concat(n.getDate())},i=(0,M.useState)(B),a=(0,h.Z)(i,2),l=a[0],r=a[1],s=(0,M.useState)(t()),o=(0,h.Z)(s,2),c=o[0],u=o[1],g=(0,M.useState)(""),j=(0,h.Z)(g,2),p=j[0],Z=j[1],b=(0,M.useState)(H),m=(0,h.Z)(b,2),v=m[0],Y=m[1],y=(0,F.C)(w.r9),P=(0,F.C)(w.k3),V=[].concat((0,f.Z)(y.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))),(0,f.Z)(P.map((function(n){return(0,d.Z)((0,d.Z)({},n),{},{label:n.title})}))));return(0,k.jsxs)(x,{onSubmit:function(n){n.preventDefault();var t={startDate:c,endDate:p,books:l.map((function(n){return n._id}))};e((0,L.f)(t)),console.log(t)},children:[(0,k.jsx)("h2",{children:"My training"}),(0,k.jsxs)("div",{className:"date-input-container",children:[(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Start",defaultValue:C()(t()),onChange:function(n){n&&u(n.format("YYYY-MM-DD"))},disabled:!0})}),(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Finish",onChange:function(n){n&&Z(n.format("YYYY-MM-DD"))},disablePast:!0,minDate:C()().add(1,"day")})})]}),(0,k.jsxs)("div",{className:"books-input-container",children:[(0,k.jsx)(A.Z,{onChange:function(n,e){e&&(console.log(e),Y(e))},disablePortal:!0,isOptionEqualToValue:function(n,e){return n._id===e._id},id:"combo-box-demo",options:V,sx:{width:300},renderInput:function(n){return(0,k.jsx)(N.Z,(0,d.Z)((0,d.Z)({},n),{},{label:"Choose books from the library "}))}}),(0,k.jsx)("button",{type:"button",onClick:function(){v&&function(n){if(console.log("addToTrainingBookListHandler"),n&&!l.find((function(e){return e._id===n._id}))){var e=n.title,t=n.author,i=n.publishYear,a=n.pagesTotal,s=n._id,o=n.pagesFinished;r([].concat((0,f.Z)(l),[{title:e,author:t,publishYear:i,pagesTotal:a,_id:s,pagesFinished:o}]))}}(v)},children:"Add"}),(0,k.jsx)("button",{type:"submit",children:"Start training"})]}),(0,k.jsx)(D,{trainingList:l,removeFromTrainingListHandler:function(n){r(l.filter((function(e){return e._id!==n})))}})]})},V=c.Z.div(r||(r=(0,o.Z)([""]))),E=t(3384),q=function(){var n=(0,F.C)(E.SL),e=(0,F.C)(E.Nh),t=(0,F.C)(E.v3);return(0,k.jsxs)(V,{children:[(0,k.jsx)("h2",{children:"My goals"}),(0,k.jsxs)("ul",{className:"goals-body",children:[(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?n.books.length:0}),(0,k.jsx)("p",{children:"Amount of books"})]}),(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?C()(t).diff(C()(e),"day"):0}),(0,k.jsx)("p",{children:"Amount of days"})]}),(0,k.jsxs)("li",{className:"goal",children:[(0,k.jsx)("p",{children:"fulfilled"===n.status?n.books.filter((function(n){return n.pagesTotal!==n.pagesFinished})).length:0}),(0,k.jsx)("p",{children:"Books left"})]})]})]})},I=t(5861),O=t(4687),U=t.n(O),W=c.Z.div(s||(s=(0,o.Z)([""]))),z=t(1243),G=function(){var n=(0,M.useState)(C()().format("YYYY-MM-DD")),e=(0,h.Z)(n,2),t=e[0],i=e[1],a=(0,M.useState)(0),l=(0,h.Z)(a,2),r=l[0],s=l[1];return(0,k.jsx)(W,{children:(0,k.jsxs)("form",{onSubmit:function(){var n=(0,I.Z)(U().mark((function n(e){var t;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,z.Z.patch("/planning",{pages:r});case 3:t=n.sent,console.log(t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:[(0,k.jsx)(S._,{dateAdapter:T.y,children:(0,k.jsx)(_.M,{label:"Date",defaultValue:C()(t),onChange:function(n){n&&(i(n.format("YYYY-MM-DD")),console.log(n.format("YYYY-MM-DD")))}})}),(0,k.jsx)(N.Z,{id:"outlined-basic",label:"Amount of pages",variant:"outlined",type:"number",onChange:function(n){console.log(n.target.value),s(Number(n.target.value))}}),(0,k.jsx)("button",{type:"submit",children:"Add result"})]})})},J=function(){return(0,k.jsxs)(u,{children:[(0,k.jsx)(P,{}),(0,k.jsx)(q,{}),(0,k.jsx)(G,{})]})}}}]);
//# sourceMappingURL=196.c9d4c187.chunk.js.map